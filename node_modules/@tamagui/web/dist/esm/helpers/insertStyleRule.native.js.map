{"version":3,"names":["isClient","StyleObjectIdentifier","StyleObjectRules","createVariable","_instanceof","left","right","Symbol","hasInstance","scannedCache","WeakMap","totalSelectorsInserted","Map","allSelectors","allRules","getAllSelectors","getAllRules","sortedKeys","Object","keys","sort","map","key","lastScannedSheets","scanAllSheets","collectThemes","arguments","length","tokens","process","env","NODE_ENV","themes","sheets","document","styleSheets","prev","current","Set","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_iterator","iterator","_step","next","done","sheet2","value","out","updateSheetStyles","err","return","_iteratorNormalCompletion1","_didIteratorError1","_iteratorError1","_iterator1","_step1","sheet1","has","trackInsertedStyle","id","get","set","bailAfterEnv","TAMAGUI_BAIL_AFTER_SCANNING_X_CSS_RULES","bailAfter","remove","_getTamaguiSelector","_getTamaguiSelector1","rules","cssRules","firstSelector","getTamaguiSelector","lastSelector","cacheKey","lastScanned","len","fails","dedupedThemes","nameToTheme","i","rule","CSSStyleRule","response","identifier","cssRule","isTheme","deduped","addThemesFromCSS","_loop","name","apply","theme","names","filter","x","push","colorVarToVal","rootComputedStyle","cssStyleRule","selectors","selectorText","split","color","token","val","rulesWithBraces","cssText","slice","values","sepI","indexOf","varIndex","key1","TAMAGUI_CSS_VARIABLE_PREFIX","replace","startsWith","varName","tokenVal","getComputedStyle","body","getPropertyValue","selector","lastThemeSelectorIndex","lastIndexOf","schemeChar","scheme","themeName","add"],"sources":["../../../src/helpers/insertStyleRule.tsx"],"sourcesContent":[null],"mappings":"AAAA,SAASA,QAAA,QAAgB;AACzB,SAASC,qBAAA,EAAuBC,gBAAA,QAAwB;AACxD,SAASC,cAAA,QAAsB;AAW/B,SAAMC,YAAeC,IAAA,EAAAC,KAAA;EAsBrB,OAAIA,KAAA,YAA+C,OAAAC,MAAA,UAAAD,KAAA,CAAAC,MAAA,CAAAC,WAAA,MAAAF,KAAA,CAAAC,MAAA,CAAAC,WAAA,EAAAH,IAAA,IAAAA,IAAA,YAAAC,KAAA;AAE5C;AAKL,IAAAG,YADY,GAAI,eAAa,IAAAC,OACxB;EAAAC,sBAAU,sBAAAC,GAAA;EAAAC,YAAA;EAAAC,QAAA;EAAAC,eAAA,YAAAA,CAAA;IAEf,OAAIF,YAAA;EAEJ;EAAAG,WAAM,GAAS,SAAAA,CAAA,EAAS;IAIxB,IAAAC,UAAW,GAAAC,MAAS,CAAAC,IAAA,CAAAL,QAAA,EAAAM,IAAA;IAClB,OAAIH,UAAO,CAAAI,GAAA,WAAAC,GAAA;MACT,OAAAR,QAAY,CAAAQ,GAAA;IACZ;EACW;EAAAC,iBAEb;AAKF,SAFAC,cAAA;EAGE,IAAAC,aAAW,GAAAC,SAAS,CAAAC,MAAA,QAAAD,SAAA,iBAAAA,SAAA;IAAAE,MAAA,GAAAF,SAAA,CAAAC,MAAA,OAAAD,SAAA;EAClB,IAAIG,OAAA,CAAAC,GAAU,CAAAC,QAAQ,KAAI,MAAK,IAC7B/B,QAAA;IAKN,IAAAgC,MAAO;MAAAC,MAAA,GAAAC,QAAA,CAAAC,WAAA;MAAAC,IAAA,GAAAb,iBAAA;MAAAc,OAAA,OAAAC,GAAA,CAAAL,MAAA;MAAAM,yBAAA;MAAAC,iBAAA;MAAAC,cAAA;IACT;MAEA,KAAS,IAAAC,SAAA,GAAAL,OAA+B,CAAA9B,MAAA,CAAAoC,QAAA,KAAAC,KAAA,IAAAL,yBAAA,IAAAK,KAAA,GAAAF,SAAA,CAAAG,IAAA,IAAAC,IAAA,GAAAP,yBAAA;QAChC,IAAAQ,MAAQ,GAAAH,KAAA,CAAAI,KAAA;QACd,IAAAD,MAAA;UAEF,IAAAE,GAAA,GAAAC,iBAAA,CAAAH,MAAA,MAAAtB,aAAA,EAAAG,MAAA;UAEMqB,GAAA,KAAAjB,MAAe,GAAAiB,GAAQ;QAG7B;MAQM;IACJ,EAAI,OAAAE,GAAA;MAEFX,iBADc,OAAAC,cACT,GAAAU,GAAA;IACH;MAEJ,IAAQ;QACN,CAAAZ,yBAAA,IAAAG,SAAA,CAAAU,MAAA,YAAAV,SAAA,CAAAU,MAAA;MACF;QAEM,IAAAZ,iBAAgB,EAKjB,MAAAC,cAEC;MACF;IAIJ;IACA,IAAIlB,iBAEA,GAAAc,OAAA,EAAAD,IAAA;MAKJ,IAAMiB,0BAA4C;QAAAC,kBAAA;QAAAC,eAAA;MAElD;QACE,KAAM,IAAOC,UAAO,GAAApB,IAAA,CAAA7B,MAAA,CAAAoC,QAAA,KAAAc,MAAA,IAAAJ,0BAAA,IAAAI,MAAA,GAAAD,UAAA,CAAAX,IAAA,IAAAC,IAAA,GAAAO,0BAAA;UACd,IAAAK,MAAA,GAAAD,MAAgB,CAAAT,KAAA;UAEhBU,MAAA,KAAWrB,OAAA,CAAAsB,GAAA,CAAAD,MAAA,CAAmB,IAAAR,iBAAmB,CAAAQ,MAAA;QAEnD;MAEF,SAAQP,GAAA;QAAAG,kBACH,OAAAC,eAAA,GAAAJ,GAAA;MAEL,UADA;QAGE;UAEF,CAAAE,0BAAA,IAAAG,UAAA,CAAAJ,MAAA,YAAAI,UAAA,CAAAJ,MAAA;QACF;UAEM,IAACE,kBAAqB,EAExB,MAASC,eAAA;QACX;MACA;IACE;IACE,OAAIvB,MAAA;EAON;AAC0B;AAE5B,SAAA4B,mBAAAC,EAAA;EAAA,IACFhB,IAAA,IAAAlC,sBAAA,CAAAmD,GAAA,CAAAD,EAAA;EACF,OAAAlD,sBAAA,CAAAoD,GAAA,CAAAF,EAAA,EAAAhB,IAAA,GAAAA,IAAA;AAEA;AAGF,IAAAmB,YAAA,GAAAnC,OAAA,CAAAC,GAAA,CAAAmC,uCAAA;EAAAC,SAAA,GAAAF,YAAA,IAAAA,YAAA;AAEA,SAAId,iBACAA,CAAAH,MAAA;EAEJ,IAAAoB,MAAS,GAAAzC,SAAA,CAAAC,MAAiB,QAAAD,SAAmD,iBAAAA,SAAA;IAAAD,aAAA,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,iBAAAA,SAAA;IAAAE,MAAA,GAAAF,SAAA,CAAAC,MAAA,OAAAD,SAAA;IAAA0C,mBAAA;IAAAC,oBAAA;IAAAC,KAAA;EAC3E;IACA,IAAKA,KAAA,GAAAvB,MAAU,CAAAwB,QAAQ,GAAAD,KAAA,EAEnB;EACF;IACA;EACE;EACA,IAAAE,aAAA,GAAc,CAAAJ,mBAAoB,GAAAK,kBAAA,CAAAH,KAAA,KAAA7C,aAAA,eAAA2C,mBAAA,uBAAAA,mBAAA;IAAAM,YAAA,IAAAL,oBAAA,GAAAI,kBAAA,CAAAH,KAAA,CAAAA,KAAA,CAAA3C,MAAA,OAAAF,aAAA,eAAA4C,oBAAA,uBAAAA,oBAAA;IAAAM,QAAA,MAAAL,KAAA,CAAA3C,MAAA,GAAA6C,aAAA,GAAAE,YAAA;IAAAE,WAAA,GAAAnE,YAAA,CAAAqD,GAAA,CAAAf,MAAA;EAAA,IACpC,GAAAoB,MAAA,IAAAS,WAAA,KAAAD,QAAA;IACF,SAAAE,GAAA,GAAAP,KAAA,CAAA3C,MAAA,EAAAmD,KAAA,MAAAC,aAAA,EAAAC,WAAA,OAAAC,CAAA,MAAAA,CAAA,GAAAJ,GAAA,EAAAI,CAAA;MAOA,IAAMC,IAAA,GALmBZ,KAAA,CAAAW,CAAA;MACvB,IAAA7E,WAAa,CAAA8E,IAAA,EAAAC,YAAsB;QACnC,IAAAC,QAAA,GAAAX,kBAAA,CAAAS,IAAA,EAAAzD,aAAA;QAG4B,IAAM2D,QAG9B,EAENN,KAAW,UACH;UACF,IAAAA,KAAS,EAAI,EAAAA,KAAA,GAAAZ,SAAA,EACX;UACF;QACA;QAGJ,IAAM,CAAAmB,UAAW,EAAAC,OAAM,EAAOC,OAAC,IAAAH,QAAA;QAC3B,IAAAG,OAAA;UACA,IAAKC,OAAM,GAAAC,gBAAW,CAAWH,OAAM,EAAG1D,MAAA;UAE5C,IAAM4D,OAAA,EAAU;YAGZ,IAAAjD,yBAGF;cAAAC,iBAAsB;cAAAC,cAA0B,GAAI,KACpD;YAEJ;cACU,SAAAiD,KAAA,YAAAA,CAAA;kBAEA,IAAIC,IAAA,GAAA/C,KAAA,CAAAI,KAAA;kBACZgC,WAAA,CAAAW,IAAA,KAAAzE,MAAA,CAAA0E,KAAA,CAAAZ,WAAA,CAAAW,IAAA,GAAAH,OAAA,CAAAK,KAAA,GAAAL,OAAA,CAAAM,KAAA,GAAAN,OAAA,CAAAM,KAAA,CAAAC,MAAA,WAAAC,CAAA;oBACE,OAAAA,CAAA,KAAAL,IAAA;kBACM,MAAAX,WAAA,CAAAW,IAAA,IAAAH,OAAA,CAAAK,KAAA;gBACD,GAAAnD,SAAA,GAAA8C,OAAA,CAAAM,KAAA,CAAAvF,MAAA,CAAAoC,QAAA,KAAAC,KAAA,IAAAL,yBAAA,IAAAK,KAAA,GAAAF,SAAA,CAAAG,IAAA,IAAAC,IAAA,GAAAP,yBAAA,OAAAmD,KAAA;YACP,SAAAvC,GAAA;cACAX,iBAAA,OAAAC,cAAA,GAAAU,GAAA;YACF;cACF;gBAEc,CAAAZ,yBAAgB,IAAAG,SAAA,CAAAU,MAAA,YAAAV,SAAA,CAAAU,MAAA;cAGnB;gBACL,IAAAZ,iBAAyB,EACvB,MAAAC,cAAyB;cAK1B;YAIP;YAEOsC,aAAA,KAAAA,aAAA,QAAAA,aAAA,CAAAkB,IAAA,CAAAT,OAAA;UACL;UACA;QACF;MACF;IAEA;IAEA,OAAS/E,YAAA,CAAAsD,GAAA,CACPhB,MACA,EAAA4B,QAAA,GAAAI,aAC4E;EAC5E;AACE;AAGA,IAAAmB,aAAU;EAAAC,iBAAmB,GAAM;AACjC,SAAAV,gBAAWA,CAAAW,YAAA,EAAAxE,MAAA;EAAA,IAAAyE,SAAA,GAAAD,YAAA,CAAAE,YAAA,CAAAC,KAAA;EAAA,IAAAF,SAEJ,CAAA1E,MAAQ;IAAwB,IACvCC,MAAA,EAAA4E,KAAA,KAAAN,aAAA;MACAA,aAAO;MACT,SAAA5E,GAAA,IAAAM,MAAA,CAAA4E,KAAA;QACF,IAAAC,KAAW,GAAA7E,MAAA,CAAA4E,KAAgB,CAAAlF,GAAA;QAEzB4E,aAAS,CAAAO,KAAS,CAAAd,IAAA,IAASc,KAAG,CAAAC,GAAA;MAGlC;IAEA;IACE,IAAMC,eAAW,IAAAP,YAAoB,CAAAQ,OAAA,QAAAC,KAAA,CAAAT,YAAA,CAAAE,YAAA,CAAA3E,MAAA;MAAA2C,KAAA,GAAAqC,eAAA,CAAAJ,KAAA;MAAAO,MAAA;MAAAvE,yBAAA;MAAAC,iBAAA;MAAAC,cAAA;IACrC;MAIF,SAAAC,SAAA,GAAA4B,KAAA,CAAA/D,MAAA,CAAAoC,QAAA,KAAAC,KAAA,IAAAL,yBAAA,IAAAK,KAAA,GAAAF,SAAA,CAAAG,IAAA,IAAAC,IAAA,GAAAP,yBAAA;QAEI,IAA8B2C,IAAA,GAE9BtC,KAAA,CAAAI,KAAA;UAAA+D,IAAgB,GAAA7B,IAAA,CAAA8B,OAAA;QACb,IAASD,IAAA;UACd,IAAAE,QAAgB,GAAA/B,IAAA,CAAA8B,OAAA;YAAAE,IAAA,GAAAhC,IAAA,CAAA2B,KAAA,CAAAI,QAAA,cAAAA,QAAA,MAAAF,IAAA;UAClBlF,OAAA,CAAAC,GAAA,CAAAqF,2BAAA,KAAAD,IAAA,GAAAA,IAAA,CAAAE,OAAA,CAAAvF,OAAA,CAAAC,GAAA,CAAAqF,2BAAA;UAEgB,IAAAT,GAAA,GAAAxB,IAAY,CAAA2B,KAAA,CAAAE,IAAoB,KAAiB;YAAA/D,KAAA;UAC3D,IAAA0D,GAAA,WACF,IAAAA,GAAA,CAASW,UAAU,OAAI,GAAM;YAGjC,IAAAC,OAAA,GAAAZ,GAAA,CAAAG,KAAA;cAAAU,QAAA,GAAArB,aAAA,CAAAoB,OAAA;YAEYC,QAAA,GAAAvE,KAAA,GAAAuE,QAAA,IAAApB,iBAAA,KAAAA,iBAAA,GAAAqB,gBAAA,CAAAtF,QAAA,CAAAuF,IAAA,IAAAzE,KAAA,GAAAmD,iBAAA,CAAAuB,gBAAA,QAAAJ,OAAA;UACI,OACNtE,KAAA,GAAA0D,GAAA;UACVI,MAAA,CAAAI,IAAA,IAAA/G,cAAA;YAEgBmB,GAAA,EAAA4F,IAAA;YACTvB,IAEL,EAAAuB,IAAA;YAAKR,GAAA,EAAA1D;UACH,GAAM;QACN;MAKF;IAEA,SAAKG,GAAA;MAELX,iBAAW,GAAO,IAAAC,cAAe,GAAAU,GAAA;IAC/B,UAAM;MAGN;QACE,CAAAZ,yBAAA,IAAAG,SAAA,CAAAU,MAAA,YAAAV,SAAA,CAAAU,MAAA;MAGF,UAAM;QACN,IAAAZ,iBAAa,EACb,MAAAC,cAAmB;MAGnB;IACE;IACE,IAAAqD,KAAA,kBAAiB,IAAMxD,GAAA,EAAM;MAAAe,0BACzB,KAAe;MAAAC,kBAAA;MAAAC,eAAuC,QAAK;IAAc,IAEjF;MACE,KAAI,IAAAC,UAAY,GAAA6C,SAAa,CAAA9F,MAAA,CAAAoC,QAC3B,KAAAc,MAAQ,EAAM,EAAAJ,0BAAA,GAA8B,CAAAI,MAAK,GAAAD,UAAA,CAAAX,IAAA,IAAAC,IAAA,GAAAO,0BAAA;QAGrD,IAAAsE,QAAA,GAAAlE,MAAA,CAAAT,KAAA;QACF,IAAA2E,QAAA;UAAA,IAAAC,sBAAA,GAAAD,QAAA,CAAAE,WAAA;YAAAlC,IAAA,GAAAgC,QAAA,CAAAd,KAAA,CAAAe,sBAAA,EAAAf,KAAA;YAAA,CAAAiB,UAAA,IAAAH,QAAA,CAAAC,sBAAA;YAAAG,MAAA,GAAAD,UAAA,oBAAAA,UAAA;YAAAE,SAAA,GAAAD,MAAA,IAAAA,MAAA,KAAApC,IAAA,MAAAoC,MAAA,IAAApC,IAAA,KAAAA,IAAA;UACF,CAAAqC,SAAA,IAAAA,SAAA,qBAAAA,SAAA,qBAAAlC,KAAA,CAAAmC,GAAA,CAAAD,SAAA;QAMM;MAIC;IACL,EAAI,OAAA7E,GAAQ,EAAI;MACdG,kBAAO,OAAAC,eAAA,GAAAJ,GAAA;IAET,UAAM;MACN,IAAI;QAGE,CAAAE,0BAAA,IAAAG,UAAA,CAAAJ,MAAA,YAAAI,UAAA,CAAAJ,MAAA;MAKC,UAAQ;QACjB,IAAAE,kBAAA,E","ignoreList":[]}