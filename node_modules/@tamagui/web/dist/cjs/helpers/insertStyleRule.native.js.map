{"version":3,"names":["__toCommonJS","mod","__copyProps","__defProp","value","insertStyleRule_exports","__export","getAllRules","getAllSelectors","insertStyleRules","scanAllSheets","setNonce","shouldInsertStyleRules","stopAccumulatingRules","updateRules","module","exports","import_constants","require","import_helpers","import_createVariable","_instanceof","left","right","Symbol","hasInstance","scannedCache","WeakMap","totalSelectorsInserted","Map","allSelectors","allRules","sortedKeys","Object","keys","sort","map","key","lastScannedSheets","collectThemes","arguments","length","tokens","process","env","NODE_ENV","isClient","themes","sheets","document","styleSheets","prev","current","Set","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_iterator","iterator","_step","next","done","sheet2","out","updateSheetStyles","err","return","_iteratorNormalCompletion1","_didIteratorError1","_iteratorError1","_iterator1","_step1","sheet1","has","trackInsertedStyle","id","get","set","bailAfterEnv","TAMAGUI_BAIL_AFTER_SCANNING_X_CSS_RULES","bailAfter","remove","_getTamaguiSelector","_getTamaguiSelector1","rules","cssRules","firstSelector","getTamaguiSelector","lastSelector","cacheKey","lastScanned","len","fails","dedupedThemes","nameToTheme","i","rule","CSSStyleRule","response","identifier","cssRule","isTheme","deduped","addThemesFromCSS","_loop","name","apply","theme","names","filter","x","push","colorVarToVal","rootComputedStyle","cssStyleRule","selectors","selectorText","split","color","token","val","rulesWithBraces","cssText","slice","values","sepI","indexOf","varIndex","key1","TAMAGUI_CSS_VARIABLE_PREFIX","replace","startsWith","varName","tokenVal","getComputedStyle","body","getPropertyValue","createVariable","selector","lastThemeSelectorIndex","lastIndexOf","schemeChar","scheme","themeName","add"],"sources":["../../../src/helpers/insertStyleRule.tsx"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}